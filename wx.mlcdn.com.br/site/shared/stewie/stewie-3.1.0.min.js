/*!
 * stewie js client v3.1.0
 *
 * Copyright 2023 luizalabs.com 
 */
!function(){d="localhost"===window.location.hostname?"https://track.magazineluiza.com.br/pixel/":`https://track.${window.location.hostname.split(".").slice(-3).join(".")}/pixel/`;var d,r,n,e,u=window.stewie={},i={action:"a",channel:"c",productId:"p",productPrice:"pp",productCashPrice:"cpp",shippingPrice:"sp",orderId:"o",payments:"pys",productIds:"ps",facebookId:"fd",facebookToken:"fn",uuid:"u",latitude:"lt",longitude:"lg",searchContent:"s",results:"rs",keyword:"q",clickedId:"ci",timeToWait:"ttw",zipCode:"zc",estimateDelivery:"ed",sellerId:"slrid",searchId:"sid",userInformation:"uri",userName:"nm",origin:"or",shippingMethod:"sm",departmentId:"dp"};function o(o){for(var t=0;t<o.length;t++){var r={action:"c",productId:o[t].productId,sellerId:o[t].sellerId,productPrice:o[t].price};o[t].productCashPrice&&(r.productCashPrice=o[t].productCashPrice),n.push(r)}}u.utils={serialize:function(o){var t,r=[];for(t in o)o.hasOwnProperty(t)&&void 0!==o[t]&&r.push(encodeURIComponent(t in i?i[t]:t)+"="+encodeURIComponent(o[t]));return r.join("&")}},u.pixel={urlsForTransactions:function(o,t,r){var e,i,c=[];if(0<t.length)for(e=0;e<t.length;e++)o&&(t[e].uuid=o),r&&(t[e].channel=r),c.push(d+"?"+u.utils.serialize(t[e]));else o&&(i={uuid:o},r&&(i.channel=r),c.push(d+"?"+u.utils.serialize(i)));return c},push:function(o){fetch(o,{credentials:"include",mode:"no-cors"})}},u.api=(n=[],e=r=null,{addTransaction:function(o,t){n.push({action:o,productId:t})},dispatch:function(){for(var o=u.pixel.urlsForTransactions(r,n,e),t=0;t<o.length;t++)u.pixel.push(o[t]);n=[]},channel:function(o){e=o},getTransactions:function(){return n},uid:function(o){r=o},addedToCart:o,cart:o,view:function(o){var t={action:"v",productId:o.productId},r=o.productPrice;null!=r&&(t.productPrice=r),o.productCashPrice&&(t.productCashPrice=o.productCashPrice),n.push(t)},likes:function(o){n.push({action:"li",productId:o.productId})},addedToWishlist:function(o){var t;o.productId&&o.productPrice&&(t={action:"awl",productId:o.productId,productPrice:o.productPrice},o.productCashPrice&&(t.productCashPrice=o.productCashPrice),n.push(t))},removedFromWishlist:function(o){o.productId&&n.push({action:"rwl",productId:o.productId})},dislikes:function(o){var t={action:"dl",productId:o.productId},o=o.timeToWait;null!=o&&0<o&&(t.timeToWait=o),n.push(t)},shipping:function(o){var t={action:"sc",productId:o.productId,shippingPrice:o.shippingPrice};o.productCashPrice&&(t.productCashPrice=o.productCashPrice),o.estimateDelivery&&(t.estimateDelivery=o.estimateDelivery),o.zipCode&&(t.zipCode=o.zipCode),n.push(t)},ping:function(){n.push({action:"ping"})},facebook:function(o){n.push({action:"ft",facebookId:o.facebookId,facebookToken:o.facebookToken})},viewWithGeolocation:function(o){var t={action:"v",productId:o.productId,latitude:o.latitude,longitude:o.longitude,productPrice:o.price};o.productCashPrice&&(t.productCashPrice=o.productCashPrice),n.push(t)},order:function(o){for(var t=[],r=[],e=[],i=0;i<o.products.length;i++)t.push(o.products[i].productId+"-"+o.products[i].qty),o.products[i].shippingMethod&&r.push(o.products[i].productId+"-"+o.products[i].shippingMethod),o.products[i].sellerId&&e.push(o.products[i].productId+"-"+o.products[i].sellerId);for(var c=[],i=0;i<o.payments.length;i++)c.push(o.payments[i].paymentMethod+"-"+o.payments[i].value+"-"+o.payments[i].paymentInstallments);var d={action:"on",orderId:o.orderId,productIds:t.join(","),payments:c.join(",")};r.length&&(d.shippingMethod=r.join(",")),e.length&&(d.sellerIds=e.join(",")),n.push(d)},searched:function(o){var t={action:"s",keyword:o.keyword},r=(o.results?t.results=o.results:t.results=0,o.productIds);r&&(r=r.join(","),t.productIds=r),o.clickedId&&(t.clickedId=o.clickedId),n.push(t)},sendUserInformation:function(o){o={action:"ui",userInformation:o.userInformation,userName:o.userName,origin:o.origin};n.push(o)},clickedOnSearch:function(o){o={action:"cos",keyword:o.keyword,productId:o.productId,departmentId:o.departmentId};n.push(o)},reset:function(){r=null,n=[]}});var t,c=window._stw||{};for(t in c)u.api[t](c[t]);u.api.dispatch()}();